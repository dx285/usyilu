!function(t){t.fn.validate=function(e){var i={errfunc:function(t){}},n=t.extend(i,e),a=!0;return this.each(function(){var e=t(this);e.find("input[datatype]").each(function(i,s){var r=t(this),o=r.attr("datatype"),d=r.attr("errormsg");"require"==o&&r.bind("blur keyup",function(){var e=t(this).val();if(e)t(this).removeAttr("style"),a=!0;else{t(this).css("border","1px solid red");var i=t(this).offset().top,s=t(this).offset().left,r=t(this).width();a=!1,d=d?d:"必填项",n.errfunc&&n.errfunc(this),t.fn.validate.showMsg(d,s+r+5,i-4,1e3)}}),e.bind("submit",function(){return e.find("input[datatype]").each(function(e,i){t(this).trigger("keyup")}),t.fn.validate.flag=a,!1})})})},t.fn.validate.flag=null,t.fn.validate.showMsg=function(e,i,n){var a=t("<div class='validate-hint' style='line-height:30px;background:white;color:red;margin-left:5px;position:absolute;top:"+n+"px;left:"+i+"px'>"+e+"</div>");(isNaN(seconds)||0==seconds)&&(seconds=1e3),t(".validate-hint").remove(),t("body").append(a),window.setTimeout(function(){a.remove()},seconds)}}(jQuery);